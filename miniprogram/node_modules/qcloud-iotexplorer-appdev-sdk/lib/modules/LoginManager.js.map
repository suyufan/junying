{"version":3,"sources":["../../src/modules/LoginManager.ts"],"names":["event_emitter_for_miniprogram_1","tslib_1","__importDefault","require","utils_1","constants","__importStar","exports","accessTokenStorageKey","LoginManager","_super","sdk","_a","getAccessToken","appKey","_b","enableAccessTokenCache","_this","call","this","accessToken","isLogin","_accessTokenStorageKey","__extends","prototype","login","reload","_loginPromise","Promise","resolve","reject","__awaiter","usingCacheToken","storage","removeItem","sent","getItem","data","Token","requestApi","needLogin","isTokenApi","doNotRetry","Data","setItem","userInfo","emit","EventTypes","LoginStateChange","isVerifyLoginError","err_1","logout","catch","noop","logger","debug","then","Object","defineProperty","UserID","_defaultUin","NickName","checkLogin","genVerifyLoginFailError","reLogin","default"],"mappings":"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"}