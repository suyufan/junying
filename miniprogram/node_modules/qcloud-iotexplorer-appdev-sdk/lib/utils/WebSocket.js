"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WebSocket=void 0;var tslib_1=require("tslib"),envDetect=tslib_1.__importStar(require("./env-detect")),WebSocket=function(){function e(e){this.url=e,this.ws=null,this.initWs()}return e.prototype.initWs=function(){envDetect.isMiniProgram?this.ws=wx.connectSocket({url:this.url}):this.ws=new window.WebSocket(this.url)},e.prototype.send=function(e){var t=e.data;envDetect.isMiniProgram?this.ws.send({data:t}):this.ws.send(t)},e.prototype.close=function(){this.ws.close()},e.prototype.onOpen=function(e){envDetect.isMiniProgram?this.ws.onOpen(e):this.ws.addEventListener("open",e)},e.prototype.onClose=function(e){envDetect.isMiniProgram?this.ws.onClose(e):this.ws.addEventListener("close",e)},e.prototype.onMessage=function(e){envDetect.isMiniProgram?this.ws.onMessage(e):this.ws.addEventListener("message",e)},e.prototype.onError=function(e){envDetect.isMiniProgram?this.ws.onError(e):this.ws.addEventListener("error",e)},e}();exports.WebSocket=WebSocket;
//# sourceMappingURL=WebSocket.js.map