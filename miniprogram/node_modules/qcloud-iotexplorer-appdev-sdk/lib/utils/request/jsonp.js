"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.jsonp=void 0;var utillib_1=require("../utillib"),count=0;function jsonp(e,t,o){"function"==typeof t&&(o=t,t={}),t||(t={});var n,i,r=t.prefix||"__jp",u=t.name||r+count++,c=t.param||"callback",p=t.timeout?t.timeout:6e4,a=encodeURIComponent,l=document.getElementsByTagName("script")[0]||document.head;function d(){n.parentNode&&n.parentNode.removeChild(n),window[u]=utillib_1.noop,i&&clearTimeout(i)}return p&&(i=setTimeout((function(){d(),o&&o(new Error("Timeout"))}),p)),window[u]=function(e){d(),o&&o(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+c+"="+a(u)).replace("?&","?"),(n=document.createElement("script")).src=e,l.parentNode.insertBefore(n,l),function(){window[u]&&d()}}exports.jsonp=jsonp;
//# sourceMappingURL=jsonp.js.map