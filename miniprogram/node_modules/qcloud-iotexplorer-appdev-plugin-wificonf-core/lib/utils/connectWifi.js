"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.connectWifi=void 0;var tslib_1=require("tslib"),qcloud_iotexplorer_appdev_sdk_1=require("qcloud-iotexplorer-appdev-sdk"),connectWifiBase_1=require("./connectWifiBase"),constants_1=require("../constants");exports.connectWifi=function(e,o){var t=o.onProgress;return tslib_1.__awaiter(void 0,void 0,void 0,(function(){var o,r;return tslib_1.__generator(this,(function(n){switch(n.label){case 0:t({code:constants_1.WifiConfStepCode.CONNECT_WIFI_START}),o=Date.now(),n.label=1;case 1:return n.trys.push([1,3,,5]),[4,connectWifiBase_1.connectWifiBase(e)];case 2:return n.sent(),t({code:constants_1.WifiConfStepCode.CONNECT_WIFI_SUCCESS,detail:{timeCost:Date.now()-o}}),[3,5];case 3:return r=n.sent(),console.error("connectWifi error",r),[4,qcloud_iotexplorer_appdev_sdk_1.AppDevSdk.utils.tips.confirm('手机连接目标Wi-Fi"'+e.SSID+'"失败，请手动切换后继续配网操作',"",{confirmText:"继续",confirmColor:qcloud_iotexplorer_appdev_sdk_1.AppDevSdk.constants.themeColorMap.primary,cancelText:"取消",cancelColor:qcloud_iotexplorer_appdev_sdk_1.AppDevSdk.constants.themeColorMap.danger,enforce:!0})];case 4:return n.sent()?(t({code:constants_1.WifiConfStepCode.CONNECT_WIFI_MANUAL,detail:{timeCost:Date.now()-o}}),[3,5]):[2,Promise.reject(tslib_1.__assign(tslib_1.__assign({},r),{code:"CONNECT_WIFI_FAIL"}))];case 5:return[2]}}))}))};
//# sourceMappingURL=connectWifi.js.map