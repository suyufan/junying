"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tryRequest=void 0;var tslib_1=require("tslib"),qcloud_iotexplorer_appdev_sdk_1=require("qcloud-iotexplorer-appdev-sdk");exports.tryRequest=function(e,r){var t=r.reporter;return tslib_1.__awaiter(void 0,void 0,void 0,(function(){var r;return tslib_1.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,e()];case 1:return[2,o.sent()];case 2:return r=o.sent(),t.info("wificonf-try-request-fail",{error:r}),r?r.errMsg&&/request:fail/.test(r.errMsg)?[4,qcloud_iotexplorer_appdev_sdk_1.AppDevSdk.utils.tips.confirm("手机无法正常访问网络","尝试更换手机Wi-Fi网络或切换到移动信号后重试",{confirmText:"重试",confirmColor:qcloud_iotexplorer_appdev_sdk_1.AppDevSdk.constants.themeColorMap.primary,cancelText:"取消配网",cancelColor:qcloud_iotexplorer_appdev_sdk_1.AppDevSdk.constants.themeColorMap.danger})]:[3,4]:[3,6];case 3:return o.sent()?(t.info("wificonf-retry-request"),[2,exports.tryRequest(e,{reporter:t})]):[2,Promise.reject(r)];case 4:return[4,qcloud_iotexplorer_appdev_sdk_1.AppDevSdk.utils.tips.confirm(qcloud_iotexplorer_appdev_sdk_1.AppDevSdk.utils.tips.getErrorMsg(r),"",{confirmText:"重试",confirmColor:qcloud_iotexplorer_appdev_sdk_1.AppDevSdk.constants.themeColorMap.primary,cancelText:"取消",cancelColor:qcloud_iotexplorer_appdev_sdk_1.AppDevSdk.constants.themeColorMap.danger})];case 5:if(o.sent())return t.info("wificonf-retry-request"),[2,exports.tryRequest(e,{reporter:t})];o.label=6;case 6:return[2,Promise.reject(r)];case 7:return[2]}}))}))};
//# sourceMappingURL=tryRequest.js.map