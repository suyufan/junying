"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),esptouch_1=require("./esptouch"),qcloud_iotexplorer_appdev_plugin_wificonf_core_1=require("qcloud-iotexplorer-appdev-plugin-wificonf-core"),WifiConfStepCode=qcloud_iotexplorer_appdev_plugin_wificonf_core_1.constants.WifiConfStepCode,WifiConfStepDesp=qcloud_iotexplorer_appdev_plugin_wificonf_core_1.constants.WifiConfStepDesp,SmartConfigWifiConf=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return tslib_1.__extends(e,o),e.prototype.doProtocol=function(o){return tslib_1.__awaiter(this,void 0,void 0,(function(){var e,i,t=this;return tslib_1.__generator(this,(function(n){switch(n.label){case 0:return[4,new esptouch_1.EsptouchTask({apSsid:o.SSID,apBssid:o.BSSID,apPassword:o.password,logger:{info:function(o,e){void 0===e&&(e={}),t.onProgress({code:WifiConfStepCode.PROTOCOL_DETAIL,detail:{message:WifiConfStepCode.PROTOCOL_DETAIL+"("+WifiConfStepDesp[WifiConfStepCode.PROTOCOL_DETAIL]+": "+o+")",data:e}})},error:function(o){void 0===o&&(o={}),t.onError({code:"PROTOCOL_FAIL",detail:{error:o}})}}}).start()];case 1:return e=n.sent(),Array.isArray(e)&&e.length&&(i=e[e.length-1].remoteInfo.address),[2,{address:i}]}}))}))},e}(qcloud_iotexplorer_appdev_plugin_wificonf_core_1.WifiConfProtocolBase),Plugin=function(){function o(){}return o.install=function(o){o.plugins.wifiConfSmartConfig={start:function(e){return new SmartConfigWifiConf(o,tslib_1.__assign({wifiConfType:"SmartConfig"},e)).start()}}},o}();exports.default=Plugin;
//# sourceMappingURL=index.js.map