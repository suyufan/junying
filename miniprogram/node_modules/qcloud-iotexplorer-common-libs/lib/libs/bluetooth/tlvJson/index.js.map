{"version":3,"sources":["../../../../src/libs/bluetooth/tlvJson/index.ts"],"names":["qcloud_iotexplorer_appdev_sdk_1","require","constants","tslib_1","__importStar","utils_1","byteUtil","AppDevSdk","utils","exports","getStrLength","hex","parseInt","slice","join","getTypeFromHead","head","getTypeIndexFromHead","getTypeHead","suffix","byteToHex","genHead","type","id","typeIndex","TLV_TYPE_INDEX","stringToTlv","value","converted","U16ToHexString","length","byteArrayToHex","stringToByteArray","hexString2hexArray","parseTlv","_a","tlvHex","hexIndex","_b","needResolveType","TLV_TYPE_LENGTH","BLE_IOT_DATA_TYPE_BOOL","BLE_IOT_DATA_TYPE_INT","BLE_IOT_DATA_TYPE_ENUM","BLE_IOT_DATA_TYPE_FLOAT","BLE_IOT_DATA_TYPE_TIME","BLE_IOT_DATA_TYPE_STRING","BLE_IOT_DATA_TYPE_STRUCT","BLE_IOT_DATA_TYPE_ARRAY","parseFloat","hexArray2Float32","hex2Int32","str","hex2str","loopParseTlv","params","start","inStruct","retData","typeFromHex","param","code","typeFromTemp","dataType","define","console","log","parsed","hexArr","dataArr","arrayItemType","arrayInfo","current","hexIndex_1","push","specs","getIndexMap","templateData","indexMap","map","temp","index","convertToTlv","_c","templateConfig","_d","needGenHead","int32ToHex","convertNumberToByte","valueHex","float32ToHexArray","tlvData","loopConvertToTlv","__spread","arrayTmplConfig_1","valueArr","Array","isArray","forEach","apply","unshift","jsObj","tmpData","Object","keys","detail","subTemplateConfig","data","convertPropertiesTlvToJsObject","TEMPLATE_PROPERTY","templateForMode","convertActionControlToTlv","action","TEMPLATE_ACTIONS","actionId","actionConfig","inputIndexMap","input","actionIndex","convertPropertiesChangeToTlv","propertiesIndexMap","warn","eventTlvData","convertEventTlvToJsObject","TEMPLATE_EVENTS","eventIndex","eventConfig","eventId","convertActionOutputTlvToJsObject","output","outputParams","TlvDataTypeIndexMap","PROPERTY_REPORT","EVENT_REPORT","ACTION_REPLY","default","getTlvDataParser","completeData","splitMark","reserveBit","splitType","SPLIT_MAP","SPLIT_FIRST","SPLIT_MIDDLE","concat","undefined","SPLIT_LAST","splice","NOT_SPLIT","sliceData","mtu","slicedData","mode","preprocessedData","eachMostLength","eachData","i","position","joinStr","SPLIT_INDEX_MAP"],"mappings":"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"}