"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RealtekTask=void 0;var tslib_1=require("tslib"),SimpleConfig_1=require("./SimpleConfig"),RealtekTask=function(){function s(s){var t=s.apSsid,i=s.apBssid,e=s.apPassword,r=s.localIp,o=s.logger,n=void 0===o?console:o;this.ssid="",this.bssid="",this.password="",this.localIp="",this.logger=console,this.ssid=t,this.bssid=i,this.password=e,this.localIp=r||"192.168.0.1",this.logger=n}return s.prototype.start=function(){var s=this;return new Promise((function(t,i){return tslib_1.__awaiter(s,void 0,void 0,(function(){var s,e,r,o=this;return tslib_1.__generator(this,(function(n){switch(n.label){case 0:this.mTask&&(this.mTask=null),this.mTask=new SimpleConfig_1.SimpleConfig(this.ssid,this.bssid,this.password,this.localIp,this.logger),this.mTask.on("onError",(function(s){i(s)})),n.label=1;case 1:return n.trys.push([1,5,,6]),"android"!==wx.getSystemInfoSync().platform?[3,2]:(this.mTask.on("result",(function(s){var i;o.logger.info("simpleconfig succ: "+(null===(i=s[0])||void 0===i?void 0:i.inetAddress),{detail:s}),t(s)})),this.mTask.startInNoPromise(),[3,4]);case 2:return[4,this.mTask.start()];case 3:(s=n.sent()).length&&(this.logger.info("simpleconfig succ: "+(null===(r=s[0])||void 0===r?void 0:r.inetAddress),{detail:s}),t(s)),n.label=4;case 4:return[3,6];case 5:return e=n.sent(),i(e),[3,6];case 6:return[2]}}))}))}))},s.prototype.interrupt=function(){var s;null===(s=this.mTask)||void 0===s||s.interrupt(),this.mTask=null},s}();exports.RealtekTask=RealtekTask;
//# sourceMappingURL=RealtekTask.js.map