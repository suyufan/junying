{"version":3,"sources":["../../../src/base/LLSync/LLSyncProtocol.ts"],"names":["BindState","constants","tslib_1","__importStar","require","qcloud_iotexplorer_appdev_sdk_1","libs_1","_a","AppDevSdk","utils","noop","genPromise","byteUtil","exports","LLSyncConfig","BLE_PSK_DEVICE_KEY","Secret_Encrypt_Key","waitConnectReplyTime","waitBindReplyTime","waitGetRegisterDeviceInfo","waitGetCheckTimeoutReplyTime","waitGetCheckTimeoutDefaultReplyTime","waitControlReplyTime","waitGetDeviceInfoTime","waitUpdateReplyInt","waitGetAdvDataReplyTime","mtuDefaultMap","undefined","LLSyncProtocol","deviceAdapter","this","_cleanupUserCheckHandleAfterCancel","_parseDataBeforeConnect","bind","Object","defineProperty","prototype","reporter","requestBindDevice","_b","needUserCheck","_c","isDynamicRegister","timestamp","Math","floor","Date","now","nonce","parseInt","gen4BytesIntHex","bindDeviceData","DEVICE_INFO_WRITE_PREFIX","TIME_SYNC","toString","info","registerDevice","registerData","_d","sent","bleData","bindDeviceParams","dataHandler","data","length","code","CONNECT_REPLY_INVALID","userCheckResult","getStrLength","console","log","GET_USER_CHECK_REJECT","sign","slice","join","deviceName","hex2str","resolveParam","toLocaleLowerCase","_this","waitUserCheckAndBindDevice","bindDeviceDirectly","writeAndWait4Response","REGISTER_DEVICE_INFO_REPLY","REGISTER_DEVICE_INFO_REPLY_INVALID","allLength","deviceNameLength","timeout","timeoutCode","WAIT_REGISTER_DEVICE_INFO_REPLY_TIMEOUT","writeId","DEVICE_INFO_WRITE_ID","resultBit","models","dynamicRegisterDevice","productId","payload","timestampUpdated","SEND_REGISTER_DEVICE_PAYLOAD","U8ToHexString","str2hexStr","REGISTER_DEVICE_SUCCESS","__assign","error_1","REGISTER_DEVICE_ERROR","BIND_AUTH","WAIT_CONNECT_REPLY_TIMEOUT","userCheckPromise","registerUserCheckTimer","userCheckTimeout","clearTimeout","userCheckTimer","setTimeout","cancelUserCheck","reject","WAIT_USER_CHECK_TIMEOUT","wait4EventResponse","USER_CHECK_TIMEOUT_CALLBACK","GET_USER_CHECK_TIMEOUT_ERROR","timeoutDuration","GET_USER_CHECK_TIMEOUT_SUCCESS","timeoutHandler","GET_USER_CHECK_TIMEOUT_TIMEOUT","off","Promise","race","promise","reason","USER_CHECK_TIMEOUT","WRITE_USER_CHECK_TIMEOUT","WRITE_USER_CHECK_CANCEL","write","getDeviceAuthInfo","CONNECT_AUTH","encrypt","localPsk","moduleVersion","extendInfo","dataStr","getDeviceInfo","CONNECT_RESULT_WRITE_SUCCESS","DEVICE_INFO","DEVICE_INFO_INVALID","version","mtuFiled","needSetMtu","mtu","otaVersion","WAIT_GET_DEVICE_INFO_TIMEOUT","getUnbindAuthSign","UNBIND_AUTH","UNBIND_REQUEST","UNBIND_REPLY_INVALID","WAIT_UNBIND_REPLY_TIMEOUT","controlDeviceAction","action","convertActionControlToTlv","dataTemplate","actionIndex","tlvData","tmpData","sliceData","__spread","getTypeHead","DEVICE_DATA_WRITE_HEAD","CONTROL_ACTION","U16ToHexString","isEncrypted","sessionKey","contentType","ACTION_REPLY","CONTROL_REPLY_INVALID","output","success","CONTROL_REPLY_CODE_INVALID","errCode","WAIT_CONTROL_ACTION_REPLY_TIMEOUT","DEVICE_DATA_WRITE_ID","wrapSplitDataMode","controlDeviceProperty","properties","convertPropertiesChangeToTlv","CONTROL_DEVICE","DEVICE_DATA_WRITE_SUFFIX","CONTROL_REPLY","WAIT_CONTROL_DEVICE_REPLY_TIMEOUT","reportBindSuccess","bindStartTime","BIND_AUTH_SUCCESS","identify","userIdentify","timeCost","writeData","setDeviceConfig","DeviceId","explorerDeviceId","DeviceKey","DeviceValue","reportBindEncryptedSuccess","secretkey","encrypted","RESPONSE_BIND","ack","BleErrorMsg","bleRes","reportBindError","BIND_AUTH_FAIL","reportBindEncryptedError","reportConnectError","CONNECT_RESULT_WRITE_FAIL","reportPropertyReportResult","REPORT_RESULT","byteToHex","convertNumberToByte","reportEventReportResult","eventIndex","EVENT_REPLY","reportGetStatusResult","GET_STATUS","concat","reportUnbindResult","mode","unbindRes","UNBIND_RESPONSE","UNBIND_RESULT_AUTH_SUCCESS","UNBIND_RESULT_AUTH_FAIL","notifyAppReady","APP_IS_READY","notifyAppOnIOSDevice","APP_ON_IOS_DEVICE","notifyLocalRssi","rssi","Number","isSafeInteger","msg","NOTIFY_LOCAL_RSSI","rssiShifted","padStart","sendHeartbeat","HEARTBEAT_REQ","getAdvertisingData","GET_ADV_DATA","GET_ADV_DATA_REPLY","GET_ADV_DATA_REPLY_INVALID","GET_ADV_DATA_FAIL","flag","bindState","result","CONNECTED","HAS_BOUND","deviceIdentify","deviceUserIdentify","assign","macAddress","GET_ADV_DATA_RESULT","WAIT_GET_ADV_DATA_REPLY_TIMEOUT","warn","mtuLength","SET_MTU_BEFORE_CONNECT","bleVersion","hexString2hexArray","originData","push","isHeartbeatResp","hex"],"mappings":"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"}